(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+2GK":function(e,t,a){"use strict";var s=a("oLdY");a.n(s).a},"+IyN":function(e,t,a){"use strict";var s=a("nVf6");a.n(s).a},"0MSA":function(e,t,a){var s=a("iBXY");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},"1krx":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".error-explanation[data-v-baf4edc2] {\n  background-color: #fde0de;\n  border-color: #e2aba7;\n}\n.error[data-v-baf4edc2]:focus {\n  box-shadow: 0 0 0 1px #fff9f8;\n}",""])},"2H07":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.statuses-list[data-v-0936f7a4] {\n  max-height: 150px;\n}\n.popupmenu[data-v-0936f7a4] {\n  right: 2px;\n  top: 26px;\n  width: 280px;\n}\n.c-delete[data-v-0936f7a4]:hover {\n  border-bottom-width: 0;\n}\n.existing-statuses li[data-v-0936f7a4]:not(:last-child) {\n  margin-right: 5px;\n}\n",""])},"3QM4":function(e,t,a){"use strict";var s={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-area-".concat(this._uid)}},type:{type:String,default:"text"},value:{type:String,default:""},datacy:{type:String,default:""},label:{type:String,default:""},help:{type:String,default:""},required:{type:Boolean,default:!1},rows:{type:Number,default:3},errors:{type:Array,default:function(){return[]}}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()},setSelectionRange:function(e,t){this.$refs.input.setSelectionRange(e,t)}}},o=(a("9cby"),a("KHd+")),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb3"},[e.label?a("label",{staticClass:"db fw4 lh-copy f6",attrs:{for:e.id}},[e._v("\n    "+e._s(e.label)+"\n  ")]):e._e(),e._v(" "),a("textarea",e._b({ref:"input",staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",class:{error:e.errors.length},attrs:{id:e.id,required:e.required?"required":"",type:e.type,"data-cy":e.datacy,rows:e.rows},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"textarea",e.$attrs,!1)),e._v(" "),e.errors.length?a("div",{staticClass:"error-explanation pa3 ba br3 mt1"},[e._v("\n    "+e._s(e.errors[0])+"\n  ")]):e._e(),e._v(" "),e.help?a("p",{staticClass:"f7 mb3 lh-title"},[e._v("\n    "+e._s(e.help)+"\n  ")]):e._e()])}),[],!1,null,"baf4edc2",null);t.a=i.exports},"61CU":function(e,t,a){var s=a("2H07");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},"6rS1":function(e,t,a){"use strict";a.r(t);var s={props:{employee:{type:Object,default:null},worklogs:{type:Array,default:null}},data:function(){return{}},methods:{employeeOrAtLeastHR:function(){return this.$page.auth.employee.permission_level<=200||!!this.employee.user&&this.$page.auth.user.id==this.employee.user.id}}},o=(a("C+SG"),a("KHd+")),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb4 relative"},[a("span",{staticClass:"db fw5 mb2"},[e._v("\n    🔨 "+e._s(e.$t("employee.worklog_title"))+"\n  ")]),e._v(" "),a("div",{staticClass:"br3 bg-white box z-1"},[0==e.worklogs.length?[a("p",{staticClass:"lh-copy ma0 f6 tc pa3"},[e._v(e._s(e.$t("employee.worklog_blank")))])]:e._e(),e._v(" "),[a("div",{attrs:{"data-cy":"list-worklogs"}},[a("ul",{staticClass:"list mv0 pa3 bb bb-gray"},e._l(e.worklogs,(function(t){return a("li",{key:t.id,staticClass:"mb3 relative worklog-item"},[t.worklog_parsed_content?[a("div",{staticClass:"parsed-content mb1",domProps:{innerHTML:e._s(t.worklog_parsed_content)}})]:[a("div",[a("p",{staticClass:"i mt0 mb1"},[e._v("\n                  "+e._s(e.$t("employee.worklog_no_worklog"))+"\n                ")])])],e._v(" "),a("ul",{staticClass:"f7 mb1 list pl0"},[a("li",{staticClass:"di"},[e._v("\n                "+e._s(t.friendly_date)+"\n              ")]),e._v(" "),t.morale?a("li",{staticClass:"di"},[e._v("\n                – "+e._s(t.morale)+"\n              ")]):e._e()])],2)})),0),e._v(" "),e.employeeOrAtLeastHR()?a("div",{staticClass:"pa3 tc"},[a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/employees/"+e.employee.id+"/worklogs","data-cy":"view-all-worklogs"}},[e._v(e._s(e.$t("employee.worklog_view_all")))])],1):e._e()])]],2)])}),[],!1,null,"6cec5555",null);t.default=i.exports},"9JmX":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".grey[data-v-15dffd39] {\n  color: #6e6e71;\n}\n.range[data-v-15dffd39] {\n  display: block;\n  height: 5px;\n  width: 100%;\n  border-top: 1px solid #e8e8e8;\n  border-left: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n}\n.days-left[data-v-15dffd39] {\n  float: right;\n}\n.progress[data-v-15dffd39] {\n  background-color: #edf2f7;\n  border-radius: 3px;\n}\n.progress .inside[data-v-15dffd39] {\n  background-color: #CAD5E1;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n  height: 16px;\n}\n.progress .holiday[data-v-15dffd39] {\n  background-color: #68D391;\n  height: 16px;\n  top: 0;\n}\n.date[data-v-15dffd39] {\n  color: #999999;\n}",""])},"9cby":function(e,t,a){"use strict";var s=a("Y36v");a.n(s).a},B7Qe:function(e,t,a){var s=a("R7mc");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},"C+SG":function(e,t,a){"use strict";var s=a("tUbJ");a.n(s).a},C3nU:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.teams-list[data-v-648c6de4] {\n  max-height: 150px;\n}\n.popupmenu[data-v-648c6de4] {\n  right: 2px;\n  top: 26px;\n  width: 280px;\n}\n.c-delete[data-v-648c6de4]:hover {\n  border-bottom-width: 0;\n}\n.existing-teams li[data-v-648c6de4]:not(:last-child) {\n  margin-right: 5px;\n}\n",""])},DUg0:function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o={directives:{clickOutside:a.n(s).a.directive},props:{employee:{type:Object,default:null},pronouns:{type:Array,default:null}},data:function(){return{modal:!1,search:"",updatedEmployee:Object}},computed:{filteredList:function(){var e=this;return this.pronouns.filter((function(t){return t.label.toLowerCase().includes(e.search.toLowerCase())})).sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))}},created:function(){this.updatedEmployee=this.employee},methods:{toggleModal:function(){this.modal=!1},assign:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/pronoun",e).then((function(e){t.$snotify.success(t.$t("employee.pronoun_modal_assign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployee=e.data.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},reset:function(e){var t=this;axios.delete("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/pronoun/"+e.id).then((function(e){t.$snotify.success(t.$t("employee.pronoun_modal_unassign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployee=e.data.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},isAssigned:function(e){return!!this.updatedEmployee.pronoun&&this.updatedEmployee.pronoun.id==e},employeeOrAtLeastHR:function(){return this.$page.auth.employee.permission_level<=200||!!this.employee.user&&(this.$page.auth.user.id==this.employee.user.id||void 0)}}},i=(a("g402"),a("KHd+")),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"di relative"},[e.employeeOrAtLeastHR()&&e.updatedEmployee.pronoun?a("ul",{staticClass:"ma0 pa0 di existing-pronouns"},[a("li",{staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer di",attrs:{"data-cy":"open-pronoun-modal"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v(e._s(e.$t("employee.pronoun_title")))]),e._v(" "),a("li",{staticClass:"di",attrs:{"data-cy":"pronoun-name-right-permission"}},[e._v("\n      "+e._s(e.updatedEmployee.pronoun.label)+"\n    ")])]):e._e(),e._v(" "),!e.employeeOrAtLeastHR()&&e.updatedEmployee.pronoun?a("ul",{staticClass:"ma0 pa0 existing-pronouns di"},[a("li",{staticClass:"di"},[e._v(e._s(e.$t("employee.pronoun_title")))]),e._v(" "),a("li",{staticClass:"di",attrs:{"data-cy":"pronoun-name-wrong-permission"}},[e._v("\n      "+e._s(e.updatedEmployee.pronoun.label)+"\n    ")])]):e._e(),e._v(" "),e.employeeOrAtLeastHR()?a("a",{directives:[{name:"show",rawName:"v-show",value:!e.updatedEmployee.pronoun,expression:"!updatedEmployee.pronoun"}],staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer",attrs:{"data-cy":"open-pronoun-modal-blank"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v(e._s(e.$t("employee.pronoun_modal_cta")))]):e._e(),e._v(" "),e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModal,expression:"toggleModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl bounceIn faster"},[a("p",{staticClass:"pa2 ma0 bb bb-gray"},[e._v("\n      "+e._s(e.$t("employee.pronoun_modal_title"))+"\n    ")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"relative pv2 ph2 bb bb-gray"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("employee.pronoun_modal_filter")},domProps:{value:e.search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleModal(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}})])]),e._v(" "),a("ul",{staticClass:"pl0 list ma0 overflow-auto relative pronouns-list"},[e._l(e.filteredList,(function(t){return a("li",{key:t.id,attrs:{"data-cy":"list-pronoun-"+t.id}},[e.isAssigned(t.id)?a("div",{staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer relative",on:{click:function(a){return e.reset(t)}}},[e._v("\n          "+e._s(t.label)+"\n\n          "),a("img",{staticClass:"pr1 absolute right-1",attrs:{src:"/img/check.svg"}})]):a("div",{staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer relative",on:{click:function(a){return e.assign(t)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])])})),e._v(" "),a("li",[e.updatedEmployee.pronoun?a("a",{staticClass:"pointer pv2 ph3 db no-underline c-delete bb-0",attrs:{"data-cy":"pronoun-reset-button"},on:{click:function(t){return e.reset(e.updatedEmployee.pronoun)}}},[e._v("\n          "+e._s(e.$t("employee.pronoun_modal_reset"))+"\n        ")]):e._e()])],2)]):e._e()])}),[],!1,null,"100524ca",null);t.default=n.exports},Ds3k:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.pronouns-list[data-v-100524ca] {\n  max-height: 150px;\n}\n.popupmenu[data-v-100524ca] {\n  right: 2px;\n  top: 26px;\n  width: 280px;\n}\n.c-delete[data-v-100524ca]:hover {\n  border-bottom-width: 0;\n}\n.existing-pronouns li[data-v-100524ca]:not(:last-child) {\n  margin-right: 5px;\n}\n",""])},HAzQ:function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o={directives:{clickOutside:a.n(s).a.directive},props:{employee:{type:Object,default:null},statuses:{type:Array,default:null}},data:function(){return{modal:!1,search:"",updatedEmployee:Object}},computed:{filteredList:function(){var e=this;return this.statuses.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())})).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))}},created:function(){this.updatedEmployee=this.employee},methods:{toggleModal:function(){this.modal=!1},assign:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/employeestatuses",e).then((function(e){t.$snotify.success(t.$t("employee.status_modal_assign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployee=e.data.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},reset:function(e){var t=this;axios.delete("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/employeestatuses/"+e.id).then((function(e){t.$snotify.success(t.$t("employee.status_modal_unassign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployee=e.data.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},isAssigned:function(e){return!!this.updatedEmployee.status&&this.updatedEmployee.status.id==e}}},i=(a("m2k9"),a("KHd+")),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"di relative"},[e.$page.auth.employee.permission_level<=200&&e.updatedEmployee.status?a("ul",{staticClass:"ma0 pa0 di existing-statuses"},[a("li",{staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer di",attrs:{"data-cy":"open-status-modal"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("\n      "+e._s(e.$t("employee.status_title"))+"\n    ")]),e._v(" "),a("li",{staticClass:"di",attrs:{"data-cy":"status-name-right-permission"}},[e._v("\n      "+e._s(e.updatedEmployee.status.name)+"\n    ")])]):e._e(),e._v(" "),e.$page.auth.employee.permission_level>200&&e.updatedEmployee.status?a("ul",{staticClass:"ma0 pa0 existing-statuses di"},[a("li",{staticClass:"di"},[e._v("\n      "+e._s(e.$t("employee.status_title"))+"\n    ")]),e._v(" "),a("li",{staticClass:"di",attrs:{"data-cy":"status-name-wrong-permission"}},[e._v("\n      "+e._s(e.updatedEmployee.status.name)+"\n    ")])]):e._e(),e._v(" "),e.$page.auth.employee.permission_level<=200?a("a",{directives:[{name:"show",rawName:"v-show",value:!e.updatedEmployee.status,expression:"!updatedEmployee.status"}],staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer",attrs:{"data-cy":"open-status-modal-blank"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("\n    "+e._s(e.$t("employee.status_modal_cta"))+"\n  ")]):a("span",{directives:[{name:"show",rawName:"v-show",value:!e.updatedEmployee.status,expression:"!updatedEmployee.status"}]},[e._v("\n    "+e._s(e.$t("employee.status_modal_blank"))+"\n  ")]),e._v(" "),e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModal,expression:"toggleModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl bounceIn faster"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.statuses.length,expression:"statuses.length != 0"}]},[a("p",{staticClass:"pa2 ma0 bb bb-gray"},[e._v("\n        "+e._s(e.$t("employee.status_modal_title"))+"\n      ")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"relative pv2 ph2 bb bb-gray"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("employee.status_modal_filter")},domProps:{value:e.search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleModal(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}})])]),e._v(" "),a("ul",{staticClass:"pl0 list ma0 overflow-auto relative statuses-list"},[e._l(e.filteredList,(function(t){return a("li",{key:t.id,attrs:{"data-cy":"list-status-"+t.id}},[e.isAssigned(t.id)?a("div",{staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer relative",on:{click:function(a){return e.reset(t)}}},[e._v("\n            "+e._s(t.name)+"\n\n            "),a("img",{staticClass:"pr1 absolute right-1",attrs:{src:"/img/check.svg"}})]):a("div",{staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer relative",on:{click:function(a){return e.assign(t)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])])})),e._v(" "),a("li",[e.updatedEmployee.status?a("a",{staticClass:"pointer pv2 ph3 db no-underline c-delete bb-0",attrs:{"data-cy":"status-reset-button"},on:{click:function(t){return e.reset(e.updatedEmployee.status)}}},[e._v("\n            "+e._s(e.$t("employee.status_modal_reset"))+"\n          ")]):e._e()])],2)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.statuses.length,expression:"statuses.length == 0"}]},[a("p",{staticClass:"pa2 tc lh-copy",attrs:{"data-cy":"modal-blank-state-copy"}},[e._v("\n        "+e._s(e.$t("employee.status_modal_blank_title"))+" "),a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/account/employeestatuses","data-cy":"modal-blank-state-cta"}},[e._v("\n          "+e._s(e.$t("employee.status_modal_blank_cta"))+"\n        ")])],1)])]):e._e()])}),[],!1,null,"0936f7a4",null);t.default=n.exports},Ji46:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".content[data-v-6cec5555] {\n  background-color: #f3f9fc;\n  padding: 1px 10px;\n}\n.worklog-item[data-v-6cec5555]:last-child {\n  margin-bottom: 0;\n}\n.parsed-content p[data-v-6cec5555]:last-child {\n  margin-bottom: 0;\n}",""])},KfmG:function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o=a.n(s),i=(a("zHN7"),{components:{BallPulseLoader:a("mM8D").a},directives:{clickOutside:o.a.directive},props:{employee:{type:Object,default:null},managersOfEmployee:{type:Array,default:null},directReports:{type:Array,default:null}},data:function(){return{modal:"hide",processingSearch:!1,searchManagers:[],searchDirectReports:[],form:{searchTerm:null,errors:[]},managerModalId:0,directReportModalId:0,deleteEmployeeConfirmation:!1}},methods:{toggleModals:function(){"hide"==this.modal?this.modal="menu":this.modal="hide",this.searchManagers=[],this.searchDirectReports=[],this.form.searchTerm=null},displayManagerModal:function(){var e=this;this.modal="manager",this.$nextTick((function(){e.$refs.search.focus()}))},displayDirectReportModal:function(){var e=this;this.modal="directReport",this.$nextTick((function(){e.$refs.search.focus()}))},hideManagerModal:function(){this.managerModalId=0},hideDirectReportModal:function(){this.directReportModalId=0},search:_.debounce((function(){var e=this;""!=this.form.searchTerm&&(this.processingSearch=!0,axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/search/hierarchy",this.form).then((function(t){"manager"==e.modal&&(e.searchManagers=t.data.data),"directReport"==e.modal&&(e.searchDirectReports=t.data.data),e.processingSearch=!1})).catch((function(t){e.form.errors=_.flatten(_.toArray(t.response.data)),e.processingSearch=!1})))}),500),assignManager:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/assignManager",e).then((function(e){t.$snotify.success(t.$t("employee.hierarchy_modal_add_manager_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.managersOfEmployee.push(e.data.data),t.modal="hide"})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},assignDirectReport:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/assignDirectReport",e).then((function(e){t.$snotify.success(t.$t("employee.hierarchy_modal_add_direct_report_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.directReports.push(e.data.data),t.modal="hide"})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},unassignManager:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/unassignManager",e).then((function(e){t.$snotify.success(t.$t("employee.hierarchy_modal_remove_manager_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.managersOfEmployee.splice(t.managersOfEmployee.indexOf(e.data.data),1),t.deleteEmployeeConfirmation=!1,t.managerModalId=0})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},unassignDirectReport:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/unassignDirectReport",e).then((function(e){t.$snotify.success(t.$t("employee.hierarchy_modal_remove_direct_report_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.directReports.splice(t.directReports.indexOf(e.data.data),1),t.deleteEmployeeConfirmation=!1,t.directReportModalId=0})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))}}}),n=(a("mVvb"),a("KHd+")),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb4 relative"},[a("span",{staticClass:"db fw5 mb2"},[e._v("\n    👨‍✈️ "+e._s(e.$t("employee.hierarchy_title"))+"\n  ")]),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.$page.auth.employee.permission_level<=200,expression:"$page.auth.employee.permission_level <= 200"}],staticClass:"box-plus-button absolute br-100 pa2 bg-white pointer",attrs:{src:"/img/plus_button.svg","data-cy":"add-hierarchy-button",width:"22",height:"22"},on:{click:function(t){return t.preventDefault(),e.toggleModals()}}}),e._v(" "),"menu"==e.modal?a("div",{staticClass:"popupmenu absolute br2 bg-white z-max tl pv2 ph3 bounceIn faster"},[a("ul",{staticClass:"list ma0 pa0"},[a("li",{staticClass:"pv2"},[a("a",{staticClass:"pointer",attrs:{"data-cy":"add-manager-button"},on:{click:function(t){return t.preventDefault(),e.displayManagerModal()}}},[e._v("\n          "+e._s(e.$t("employee.hierarchy_modal_add_manager"))+"\n        ")])]),e._v(" "),a("li",{staticClass:"pv2"},[a("a",{staticClass:"pointer",attrs:{"data-cy":"add-direct-report-button"},on:{click:function(t){return t.preventDefault(),e.displayDirectReportModal()}}},[e._v("\n          "+e._s(e.$t("employee.hierarchy_modal_add_direct_report"))+"\n        ")])])])]):e._e(),e._v(" "),"manager"==e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModals,expression:"toggleModals"}],staticClass:"popupmenu absolute br2 bg-white z-max tl pv2 ph3 bounceIn faster"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"mb3 relative"},[a("p",[e._v(e._s(e.$t("employee.hierarchy_modal_add_manager_search",{name:e.employee.first_name})))]),e._v(" "),a("div",{staticClass:"relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.searchTerm,expression:"form.searchTerm"}],ref:"search",staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("employee.hierarchy_search_placeholder"),required:"","data-cy":"search-manager"},domProps:{value:e.form.searchTerm},on:{keyup:e.search,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleModals()},input:function(t){t.target.composing||e.$set(e.form,"searchTerm",t.target.value)}}}),e._v(" "),e.processingSearch?a("ball-pulse-loader",{attrs:{color:"#5c7575",size:"7px"}}):e._e()],1)])]),e._v(" "),a("ul",{staticClass:"pl0 list ma0"},[a("li",{staticClass:"fw5 mb3"},[a("span",{staticClass:"f6 mb2 dib"},[e._v("\n          "+e._s(e.$t("employee.hierarchy_search_results"))+"\n        ")]),e._v(" "),e.searchManagers.length>0?a("ul",{staticClass:"list ma0 pl0"},e._l(e.searchManagers,(function(t){return a("li",{key:t.id,staticClass:"bb relative pv2 ph1 bb-gray bb-gray-hover"},[e._v("\n            "+e._s(t.name)+"\n            "),a("a",{staticClass:"absolute right-1 pointer",attrs:{"data-cy":"potential-manager-button"},on:{click:function(a){return a.preventDefault(),e.assignManager(t)}}},[e._v("\n              "+e._s(e.$t("app.choose"))+"\n            ")])])})),0):a("div",{staticClass:"silver"},[e._v("\n          "+e._s(e.$t("app.no_results"))+"\n        ")])])])]):e._e(),e._v(" "),"directReport"==e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModals,expression:"toggleModals"}],staticClass:"popupmenu absolute br2 bg-white z-max tl pv2 ph3 bounceIn faster"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"mb3 relative"},[a("p",[e._v(e._s(e.$t("employee.hierarchy_modal_add_direct_report_search",{name:e.employee.first_name})))]),e._v(" "),a("div",{staticClass:"relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.searchTerm,expression:"form.searchTerm"}],ref:"search",staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("employee.hierarchy_search_placeholder"),required:"","data-cy":"search-direct-report"},domProps:{value:e.form.searchTerm},on:{keyup:e.search,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleModals()},input:function(t){t.target.composing||e.$set(e.form,"searchTerm",t.target.value)}}}),e._v(" "),e.processingSearch?a("ball-pulse-loader",{attrs:{color:"#5c7575",size:"7px"}}):e._e()],1)])]),e._v(" "),a("ul",{staticClass:"pl0 list ma0"},[a("li",{staticClass:"fw5 mb3"},[a("span",{staticClass:"f6 mb2 dib"},[e._v("\n          "+e._s(e.$t("employee.hierarchy_search_results"))+"\n        ")]),e._v(" "),e.searchDirectReports.length>0?a("ul",{staticClass:"list ma0 pl0"},e._l(e.searchDirectReports,(function(t){return a("li",{key:t.id,staticClass:"bb relative pv2 ph1 bb-gray bb-gray-hover"},[e._v("\n            "+e._s(t.name)+"\n            "),a("a",{staticClass:"absolute right-1 pointer",attrs:{"data-cy":"potential-direct-report-button"},on:{click:function(a){return a.preventDefault(),e.assignDirectReport(t)}}},[e._v("\n              "+e._s(e.$t("app.choose"))+"\n            ")])])})),0):a("div",{staticClass:"silver"},[e._v("\n          "+e._s(e.$t("app.no_results"))+"\n        ")])])])]):e._e(),e._v(" "),a("div",{staticClass:"br3 bg-white box z-1 pa3 list-employees"},[0==e.managersOfEmployee.length&&0==e.directReports.length?a("p",{staticClass:"lh-copy mb0 f6"},[e._v("\n      "+e._s(e.$t("employee.hierarchy_blank"))+"\n    ")]):e._e(),e._v(" "),0!=e.managersOfEmployee.length?[a("div",{attrs:{"data-cy":"list-managers"}},[a("p",{staticClass:"mt0 mb2 f6"},[e._v("\n          "+e._s(e.$tc("employee.hierarchy_list_manager_title",e.managersOfEmployee.length))+"\n        ")]),e._v(" "),a("ul",{staticClass:"list mv0"},e._l(e.managersOfEmployee,(function(t){return a("li",{key:t.id,staticClass:"mb3 relative"},[a("img",{staticClass:"br-100 absolute avatar",attrs:{src:t.avatar}}),e._v(" "),a("inertia-link",{staticClass:"mb2",attrs:{href:"/"+e.$page.auth.company.id+"/employees/"+t.id}},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),null!==t.position?a("span",{staticClass:"title db f7 mt1"},[e._v("\n              "+e._s(t.position)+"\n            ")]):a("span",{staticClass:"title db f7 mt1"},[e._v("\n              "+e._s(e.$t("app.no_position_defined"))+"\n            ")]),e._v(" "),a("img",{staticClass:"absolute right-0 pointer list-employees-action",attrs:{src:"/img/common/triple-dots.svg","data-cy":"display-remove-manager-modal"},on:{click:function(a){e.managerModalId=t.id}}}),e._v(" "),e.managerModalId==t.id?a("div",{directives:[{name:"show",rawName:"v-show",value:e.$page.auth.employee.permission_level<=200,expression:"$page.auth.employee.permission_level <= 200"},{name:"click-outside",rawName:"v-click-outside",value:e.hideManagerModal,expression:"hideManagerModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl pv2 ph3 bounceIn list-employees-modal"},[a("ul",{staticClass:"list ma0 pa0"},[a("li",{directives:[{name:"show",rawName:"v-show",value:!e.deleteEmployeeConfirmation,expression:"!deleteEmployeeConfirmation"}],staticClass:"pv2 relative"},[a("icon-delete",{attrs:{classes:"icon-delete relative",width:15,height:15}}),e._v(" "),a("a",{staticClass:"pointer ml1 c-delete",attrs:{"data-cy":"remove-manager-button"},on:{click:function(t){t.preventDefault(),e.deleteEmployeeConfirmation=!0}}},[e._v("\n                    "+e._s(e.$t("employee.hierarchy_modal_remove_manager"))+"\n                  ")])],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.deleteEmployeeConfirmation,expression:"deleteEmployeeConfirmation"}],staticClass:"pv2"},[e._v("\n                  "+e._s(e.$t("app.sure"))+"\n                  "),a("a",{staticClass:"c-delete mr1 pointer",attrs:{"data-cy":"confirm-remove-manager"},on:{click:function(a){return a.preventDefault(),e.unassignManager(t)}}},[e._v("\n                    "+e._s(e.$t("app.yes"))+"\n                  ")]),e._v(" "),a("a",{staticClass:"pointer",on:{click:function(t){t.preventDefault(),e.deleteEmployeeConfirmation=!1}}},[e._v("\n                    "+e._s(e.$t("app.no"))+"\n                  ")])])])]):e._e()],1)})),0)])]:e._e(),e._v(" "),0!=e.directReports.length?[a("div",{class:0!=e.managersOfEmployee.length?"mt3":"",attrs:{"data-cy":"list-direct-reports"}},[a("p",{staticClass:"mt0 mb2 f6"},[e._v("\n          "+e._s(e.$tc("employee.hierarchy_list_direct_report_title",e.directReports.length))+"\n        ")]),e._v(" "),a("ul",{staticClass:"list mv0"},e._l(e.directReports,(function(t){return a("li",{key:t.id,staticClass:"mb3 relative"},[a("img",{staticClass:"br-100 absolute avatar",attrs:{src:t.avatar}}),e._v(" "),a("inertia-link",{staticClass:"mb2",attrs:{href:"/"+e.$page.auth.company.id+"/employees/"+t.id}},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),null!==t.position?a("span",{staticClass:"title db f7 mt1"},[e._v("\n              "+e._s(t.position.title)+"\n            ")]):a("span",{staticClass:"title db f7 mt1"},[e._v("\n              "+e._s(e.$t("app.no_position_defined"))+"\n            ")]),e._v(" "),a("img",{staticClass:"absolute right-0 pointer list-employees-action",attrs:{src:"/img/common/triple-dots.svg","data-cy":"display-remove-directreport-modal"},on:{click:function(a){e.directReportModalId=t.id}}}),e._v(" "),e.directReportModalId==t.id?a("div",{directives:[{name:"show",rawName:"v-show",value:e.$page.auth.employee.permission_level<=200,expression:"$page.auth.employee.permission_level <= 200"},{name:"click-outside",rawName:"v-click-outside",value:e.hideDirectReportModal,expression:"hideDirectReportModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl pv2 ph3 bounceIn list-employees-modal"},[a("ul",{staticClass:"list ma0 pa0"},[a("li",{directives:[{name:"show",rawName:"v-show",value:!e.deleteEmployeeConfirmation,expression:"!deleteEmployeeConfirmation"}],staticClass:"pv2 relative"},[a("icon-delete",{attrs:{classes:"icon-delete relative",width:15,height:15}}),e._v(" "),a("a",{staticClass:"pointer ml1 c-delete",attrs:{"data-cy":"remove-directreport-button"},on:{click:function(t){t.preventDefault(),e.deleteEmployeeConfirmation=!0}}},[e._v("\n                    "+e._s(e.$t("employee.hierarchy_modal_remove_direct_report"))+"\n                  ")])],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.deleteEmployeeConfirmation,expression:"deleteEmployeeConfirmation"}],staticClass:"pv2"},[e._v("\n                  "+e._s(e.$t("app.sure"))+"\n                  "),a("a",{staticClass:"c-delete mr1 pointer",attrs:{"data-cy":"confirm-remove-directreport"},on:{click:function(a){return a.preventDefault(),e.unassignDirectReport(t)}}},[e._v("\n                    "+e._s(e.$t("app.yes"))+"\n                  ")]),e._v(" "),a("a",{staticClass:"pointer",on:{click:function(t){t.preventDefault(),e.deleteEmployeeConfirmation=!1}}},[e._v("\n                    "+e._s(e.$t("app.no"))+"\n                  ")])])])]):e._e()],1)})),0)])]:e._e()],2)])}),[],!1,null,"a61d452e",null);t.default=r.exports},P4ZZ:function(e,t,a){"use strict";a.r(t);var s=a("3QM4"),o=a("Z84v"),i=a("rrJu"),n={components:{TextArea:s.a,Errors:i.a,LoadingButton:o.a},props:{employee:{type:Object,default:null}},data:function(){return{showEdit:!1,form:{description:null,errors:[]},loadingState:"",errorTemplate:Error,updatedEmployee:null}},created:function(){this.updatedEmployee=this.employee},methods:{employeeOrAtLeastHR:function(){return this.$page.auth.employee.permission_level<=200||!!this.employee.user&&(this.$page.auth.user.id==this.employee.user.id||void 0)},displayEditBox:function(){this.showEdit=!0,this.form.description=this.updatedEmployee.raw_description},submit:function(){var e=this;this.loadingState="loading",axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/description",this.form).then((function(t){e.$snotify.success(e.$t("employee.description_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),e.updatedEmployee=t.data.data,e.showEdit=!1,e.loadingState=null})).catch((function(t){e.loadingState=null,e.form.errors=_.flatten(_.toArray(t.response.data))}))},clear:function(){var e=this;axios.delete("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/description/"+this.employee.id).then((function(t){e.$snotify.success(e.$t("employee.description_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),e.updatedEmployee=t.data.data,e.showEdit=!1})).catch((function(t){e.loadingState=null,e.form.errors=_.flatten(_.toArray(t.response.data))}))}}},r=a("KHd+"),l=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb4 relative"},[a("span",{staticClass:"db fw5 mb2"},[e._v("\n    💬 "+e._s(e.$t("employee.description_title"))+"\n  ")]),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.employeeOrAtLeastHR(),expression:"employeeOrAtLeastHR()"}],staticClass:"box-plus-button absolute br-100 pa2 bg-white pointer",attrs:{src:"/img/edit_button.svg","data-cy":"add-description-button",width:"22",height:"22"},on:{click:function(t){return t.preventDefault(),e.displayEditBox()}}}),e._v(" "),e.updatedEmployee.raw_description&&!e.showEdit?a("div",{staticClass:"br3 bg-white box z-1 pa3"},[a("div",{staticClass:"parsed-content",domProps:{innerHTML:e._s(e.updatedEmployee.parsed_description)}})]):e._e(),e._v(" "),e.updatedEmployee.raw_description||e.showEdit?e._e():a("div",{staticClass:"br3 bg-white box z-1 pa3"},[a("p",{staticClass:"mb0 mt0 lh-copy mb0 f6"},[e._v("\n      "+e._s(e.$t("employee.description_no_description"))+"\n    ")])]),e._v(" "),e.showEdit?a("div",{staticClass:"br3 bg-white box z-1 pa3"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("errors",{attrs:{errors:e.form.errors}}),e._v(" "),a("text-area",{attrs:{label:e.$t("employee.description_text_title"),datacy:"description-textarea",required:!0,rows:10,help:e.$t("employee.description_text_help")},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),e._v(" "),a("div",{staticClass:"mt4"},[a("div",{staticClass:"flex-ns justify-between"},[a("div",[a("a",{staticClass:"btn btn-secondary dib tc w-auto-ns w-100 mb2 pv2 ph3",attrs:{"data-cy":"clear-description"},on:{click:function(t){return e.clear()}}},[e._v("\n              ❌ "+e._s(e.$t("employee.description_clear"))+"\n            ")])]),e._v(" "),a("div",{},[a("a",{staticClass:"btn btn-secondary dib tc w-auto-ns w-100 mb2 pv2 ph3",attrs:{"data-cy":"cancel-add-description"},on:{click:function(t){e.showEdit=!1}}},[e._v("\n              "+e._s(e.$t("app.cancel"))+"\n            ")]),e._v(" "),a("loading-button",{attrs:{classes:"btn add w-auto-ns w-100 mb2 pv2 ph3",state:e.loadingState,text:e.$t("app.publish"),"cypress-selector":"submit-add-description"}})],1)])])],1)]):e._e()])}),[],!1,null,"0607cd57",null);t.default=l.exports},R7mc:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".avatar[data-v-d9eb193e] {\n  width: 80px;\n  height: 80px;\n  top: 19%;\n  left: 50%;\n  margin-top: -40px;\n  /* Half the height */\n  margin-left: -40px;\n  /* Half the width */\n}\n.you[data-v-d9eb193e] {\n  background-color: #e6fffa;\n  border-color: #38b2ac;\n  color: #234e52;\n}",""])},RcIq:function(e,t,a){"use strict";var s=a("xebb");a.n(s).a},X0TR:function(e,t,a){"use strict";var s=a("B7Qe");a.n(s).a},XPtM:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.list-employees > ul[data-v-a61d452e] {\n  padding-left: 43px;\n}\n.list-employees li[data-v-a61d452e]:last-child {\n  margin-bottom: 0;\n}\n.avatar[data-v-a61d452e] {\n  top: 1px;\n  left: -44px;\n  width: 35px;\n}\n.list-employees-action[data-v-a61d452e] {\n  top: 15px;\n}\n.list-employees-modal[data-v-a61d452e] {\n  right: -6px;\n  top: 27px;\n}\n.icon-delete[data-v-a61d452e] {\n  top: 2px;\n}\n.ball-pulse[data-v-a61d452e] {\n  right: 8px;\n  top: 10px;\n  position: absolute;\n}\n",""])},Y36v:function(e,t,a){var s=a("1krx");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},YlmQ:function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o={directives:{clickOutside:a.n(s).a.directive},props:{employee:{type:Object,default:null},employeeTeams:{type:Array,default:null},teams:{type:Array,default:null}},data:function(){return{modal:!1,search:"",updatedEmployeeTeams:Array}},computed:{filteredList:function(){var e=this;return this.teams.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())})).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))}},created:function(){this.updatedEmployeeTeams=this.employeeTeams},methods:{toggleModal:function(){this.modal=!1},assign:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/team",e).then((function(e){t.$snotify.success(t.$t("employee.team_modal_assign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployeeTeams=e.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},reset:function(e){var t=this;axios.delete("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/team/"+e.id).then((function(e){t.$snotify.success(t.$t("employee.team_modal_unassign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployeeTeams=e.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},isAssigned:function(e){for(var t=0;t<this.updatedEmployeeTeams.length;t++)if(this.updatedEmployeeTeams[t].id==e)return!0;return!1}}},i=(a("+2GK"),a("KHd+")),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"di relative"},[e.$page.auth.employee.permission_level<=200?a("ul",{staticClass:"ma0 pa0 di existing-teams"},[a("li",{directives:[{name:"show",rawName:"v-show",value:0!=e.updatedEmployeeTeams.length,expression:"updatedEmployeeTeams.length != 0"}],staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer di",attrs:{"data-cy":"open-team-modal"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("\n      "+e._s(e.$t("employee.team_title"))+"\n    ")]),e._v(" "),e._l(e.updatedEmployeeTeams,(function(t){return a("li",{key:t.id,staticClass:"di"},[a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/teams/"+t.id}},[e._v(e._s(t.name))]),e._v(" "),t.team_leader?[t.team_leader.id==e.employee.id?a("span",[e._v("\n          (leader)\n        ")]):e._e()]:e._e()],2)}))],2):a("ul",{staticClass:"ma0 pa0 existing-teams di"},[a("li",{directives:[{name:"show",rawName:"v-show",value:0!=e.updatedEmployeeTeams.length,expression:"updatedEmployeeTeams.length != 0"}],staticClass:"di"},[e._v("\n      "+e._s(e.$t("employee.team_title"))+"\n    ")]),e._v(" "),e._l(e.updatedEmployeeTeams,(function(t){return a("li",{key:t.id,staticClass:"di"},[a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/teams/"+t.id}},[e._v(e._s(t.name))])],1)}))],2),e._v(" "),e.$page.auth.employee.permission_level<=200?a("a",{directives:[{name:"show",rawName:"v-show",value:0==e.updatedEmployeeTeams.length,expression:"updatedEmployeeTeams.length == 0"}],staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer",attrs:{"data-cy":"open-team-modal-blank"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("\n    "+e._s(e.$t("employee.team_modal_title"))+"\n  ")]):a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.updatedEmployeeTeams.length,expression:"updatedEmployeeTeams.length == 0"}]},[e._v("\n    "+e._s(e.$t("employee.team_modal_blank"))+"\n  ")]),e._v(" "),e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModal,expression:"toggleModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl bounceIn faster"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.teams.length,expression:"teams.length != 0"}]},[a("p",{staticClass:"pa2 ma0 bb bb-gray"},[e._v("\n        "+e._s(e.$t("employee.team_modal_title"))+"\n      ")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"relative pv2 ph2 bb bb-gray"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("employee.team_modal_filter")},domProps:{value:e.search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleModal(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}})])]),e._v(" "),a("ul",{staticClass:"pl0 list ma0 overflow-auto relative teams-list"},e._l(e.filteredList,(function(t){return a("li",{key:t.id,attrs:{"data-cy":"list-team-"+t.id}},[e.isAssigned(t.id)?a("div",{staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer relative",on:{click:function(a){return e.reset(t)}}},[e._v("\n            "+e._s(t.name)+"\n\n            "),a("img",{staticClass:"pr1 absolute right-1",attrs:{src:"/img/check.svg"}})]):a("div",{staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer relative",on:{click:function(a){return e.assign(t)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])])})),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.teams.length,expression:"teams.length == 0"}]},[a("p",{staticClass:"pa2 tc lh-copy",attrs:{"data-cy":"modal-blank-state-copy"}},[e._v("\n        "+e._s(e.$t("employee.team_modal_blank_title"))+" "),a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/account/teams","data-cy":"modal-blank-state-cta"}},[e._v("\n          "+e._s(e.$t("employee.team_modal_blank_cta"))+"\n        ")])],1),e._v(" "),a("img",{staticClass:"db center mb4",attrs:{srcset:"/img/company/account/blank-team-1x.png, /img/company/account/blank-team-2x.png 2x"}})])]):e._e()])}),[],!1,null,"648c6de4",null);t.default=n.exports},"c1c+":function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o=a.n(s),i=a("cwCQ"),n=(a("rrJu"),a("Z84v"),{directives:{clickOutside:o.a.directive},components:{SelectBox:i.a},props:{employee:{type:Object,default:null}},data:function(){return{modal:!1,search:"",form:{year:1,month:1,day:1},updatedEmployee:Object}},created:function(){this.updatedEmployee=this.employee},methods:{toggleModal:function(){this.modal=!1},assign:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/pronoun",e).then((function(e){t.$snotify.success(t.$t("employee.pronoun_modal_assign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployee=e.data.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},reset:function(e){var t=this;axios.delete("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/pronoun/"+e.id).then((function(e){t.$snotify.success(t.$t("employee.pronoun_modal_unassign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.updatedEmployee=e.data.data})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},isAssigned:function(e){return!!this.updatedEmployee.pronoun&&this.updatedEmployee.pronoun.id==e},employeeOrAtLeastHR:function(){return this.$page.auth.employee.permission_level<=200||!!this.employee.user&&(this.$page.auth.user.id==this.employee.user.id||void 0)}}}),r=(a("RcIq"),a("KHd+")),l=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"di relative"},[e.employeeOrAtLeastHR()&&e.updatedEmployee.birthdate?a("ul",{staticClass:"ma0 pa0 di"},[a("li",{staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer di",attrs:{"data-cy":"open-birthdate-modal"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v(e._s(e.$t("employee.birthdate_title")))]),e._v(" "),a("li",{staticClass:"di",attrs:{"data-cy":"birthdate-name-right-permission"}},[e._v("\n      "+e._s(e.updatedEmployee.birthdate.label)+"\n    ")])]):e._e(),e._v(" "),!e.employeeOrAtLeastHR()&&e.updatedEmployee.pronoun?a("ul",{staticClass:"ma0 pa0 di"},[a("li",{staticClass:"di"},[e._v(e._s(e.$t("employee.pronoun_title")))]),e._v(" "),a("li",{staticClass:"di",attrs:{"data-cy":"pronoun-name-wrong-permission"}},[e._v("\n      "+e._s(e.updatedEmployee.pronoun.label)+"\n    ")])]):e._e(),e._v(" "),e.employeeOrAtLeastHR()?a("a",{directives:[{name:"show",rawName:"v-show",value:!e.updatedEmployee.birthdate,expression:"!updatedEmployee.birthdate"}],staticClass:"pointer",attrs:{"data-cy":"open-birthdate-modal-blank"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("No birthdate")]):e._e(),e._v(" "),e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModal,expression:"toggleModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl bounceIn faster"},[a("p",{staticClass:"pa2 ma0 bb bb-gray"},[e._v("\n      Indicate the birthdate\n    ")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"relative pv2 ph2 bb bb-gray"},[a("div",{staticClass:"dt-ns dt--fixed di"},[a("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[a("select-box",{attrs:{id:"year",options:e.countries,name:"year",errors:e.$page.errors.year,label:e.$t("employee.edit_information_country"),placeholder:e.$t("app.choose_value"),required:!0,value:e.form.country_id,datacy:"country_selector"},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),e._v(" "),a("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[a("select-box",{attrs:{id:"month",options:e.countries,name:"month",errors:e.$page.errors.month,label:e.$t("employee.edit_information_country"),placeholder:e.$t("app.choose_value"),required:!0,value:e.form.country_id,datacy:"country_selector"},model:{value:e.form.month,callback:function(t){e.$set(e.form,"month",t)},expression:"form.month"}})],1),e._v(" "),a("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[a("select-box",{attrs:{id:"day",options:e.countries,name:"day",errors:e.$page.errors.day,label:e.$t("employee.edit_information_country"),placeholder:e.$t("app.choose_value"),required:!0,value:e.form.country_id,datacy:"country_selector"},model:{value:e.form.day,callback:function(t){e.$set(e.form,"day",t)},expression:"form.day"}})],1)])])])]):e._e()])}),[],!1,null,"4078ab1e",null);t.default=l.exports},dLx3:function(e,t,a){"use strict";a.r(t);var s={props:{employee:{type:Object,default:null}},data:function(){return{}},methods:{}},o=(a("+IyN"),a("KHd+")),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb4 relative"},[a("span",{staticClass:"db fw5 mb2"},[e._v("\n    🌴 Holidays\n  ")]),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.$page.auth.employee.permission_level<=200,expression:"$page.auth.employee.permission_level <= 200"}],staticClass:"box-plus-button absolute br-100 pa2 bg-white pointer",attrs:{src:"/img/plus_button.svg","data-cy":"add-holiday-button",width:"22",height:"22"},on:{click:function(t){return t.preventDefault(),e.toggleModals()}}}),e._v(" "),a("div",{staticClass:"br3 bg-white box z-1 pa3"},[a("div",{staticClass:"flex justify-between mb4 mt3"},[a("div",{staticClass:"w-50 f4 fw3"},[e._v("\n        Available balance\n      ")]),e._v(" "),a("div",{staticClass:"w-50 tr f3"},[e._v("\n        "+e._s(e.employee.holidays.current_balance_round)+" days\n      ")])]),e._v(" "),a("p",{staticClass:"f7 grey tc mb1"},[e._v("\n      "+e._s(e.employee.holidays.amount_of_allowed_holidays)+" days of holidays earned in a year\n    ")]),e._v(" "),a("div",{staticClass:"range mb1"}),e._v(" "),a("div",{staticClass:"cf"},[a("div",{staticClass:"fl",style:"width: "+e.employee.holidays.percent_year_completion_rate+"%"},[e._v("\n         \n      ")]),e._v(" "),a("div",{staticClass:"fl",style:"width: "+e.employee.holidays.reverse_percent_year_completion_rate+"%"},[a("p",{staticClass:"f7 grey tc mb1 mt1"},[e._v("\n          "+e._s(e.employee.holidays.number_holidays_left_to_earn_this_year)+" days left to earn\n        ")]),e._v(" "),a("div",{staticClass:"range mb1"})])]),e._v(" "),a("div",{staticClass:"progress relative"},[a("div",{staticClass:"inside",style:"width: "+e.employee.holidays.percent_year_completion_rate+"%"}),e._v(" "),a("div",{staticClass:"holiday absolute",staticStyle:{width:"2%",left:"90%"}}),e._v(" "),a("div",{staticClass:"holiday absolute",staticStyle:{width:"4%",left:"12%"}})]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"flex items-start-ns flex-wrap flex-nowrap-ns"},[e._m(1),e._v(" "),a("div",{staticClass:"mb1 w-25-ns w-50 mr4-ns"},[a("p",{staticClass:"db mb2 mt0 f3"},[e._v("\n          "+e._s(e.employee.holidays.holidays_earned_each_month)+" days\n        ")]),e._v(" "),a("p",{staticClass:"f7 mt0 fw3 grey lh-copy"},[e._v("\n          New holidays earned each month\n        ")])]),e._v(" "),e._m(2),e._v(" "),e._m(3)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex justify-between mb4"},[t("div",{staticClass:"w-50 f7 date mt2"},[this._v("\n        Jan 1\n      ")]),this._v(" "),t("div",{staticClass:"w-50 f7 date mt2 tr"},[this._v("\n        Dec 31\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mb1 w-25-ns w-50 mr4-ns"},[t("p",{staticClass:"db mb2 mt0 f3 fw3"},[this._v("\n          25 days\n        ")]),this._v(" "),t("p",{staticClass:"f7 mt0 fw3 grey lh-copy"},[this._v("\n          Days taken so far this year\n        ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mb1 w-25-ns w-50 mr4-ns"},[t("p",{staticClass:"db mb2 mt0 f3 fw3"},[this._v("\n          25 days\n        ")]),this._v(" "),t("p",{staticClass:"f7 mt0 fw3 grey lh-copy"},[this._v("\n          Last taken holidays\n        ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mb1 w-25-ns w-50"},[t("p",{staticClass:"db mb2 mt0 f3 fw3"},[this._v("\n          25 days\n        ")]),this._v(" "),t("p",{staticClass:"f7 mt0 fw3 grey lh-copy"},[this._v("\n          Estimated balance at the end of the year\n        ")])])}],!1,null,"15dffd39",null);t.default=i.exports},g402:function(e,t,a){"use strict";var s=a("lqoj");a.n(s).a},iBXY:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.positions-list[data-v-92405ea6] {\n  max-height: 150px;\n}\n.popupmenu[data-v-92405ea6] {\n  right: 2px;\n  top: 26px;\n  width: 280px;\n}\n.c-delete[data-v-92405ea6]:hover {\n  border-bottom-width: 0;\n}\n",""])},"j/m5":function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o=a.n(s),i=a("+SZM"),n=a("P4ZZ"),r=a("zPd+"),l=a("DUg0"),c=a("HAzQ"),p=a("YlmQ"),d=a("KfmG"),m=a("c1c+"),u=a("6rS1"),v=a("dLx3"),h=a("lUBh"),y={components:{Layout:i.a,PersonalDescription:n.default,AssignEmployeePosition:r.default,AssignEmployeeGenderPronoun:l.default,AssignEmployeeStatus:c.default,AssignEmployeeTeam:p.default,AssignEmployeeHierarchy:d.default,AssignEmployeeBirthdate:m.default,Worklogs:u.default,Holidays:v.default,Location:h.default},directives:{clickOutside:o.a.directive},props:{employee:{type:Object,default:null},employeeTeams:{type:Array,default:null},notifications:{type:Array,default:null},managersOfEmployee:{type:Array,default:null},directReports:{type:Array,default:null},positions:{type:Array,default:null},teams:{type:Array,default:null},worklogs:{type:Array,default:null},statuses:{type:Array,default:null},pronouns:{type:Array,default:null}},data:function(){return{profileMenu:!1}},mounted:function(){localStorage.success&&(this.$snotify.success(localStorage.success,{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),localStorage.clear())},methods:{toggleProfileMenu:function(){this.profileMenu=!1},employeeOrAtLeastHR:function(){return this.$page.auth.employee.permission_level<=200||!!this.employee.user&&(this.$page.auth.user.id==this.employee.user.id||void 0)}}},_=(a("X0TR"),a("KHd+")),f=Object(_.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout",{attrs:{title:"Home",notifications:e.notifications}},[a("div",{staticClass:"ph2 ph5-ns"},[a("div",{staticClass:"mt4-l mt1 mw7 br3 bg-white box center breadcrumb relative z-0 f6 pb2"},[a("ul",{staticClass:"list ph0 tc-l tl"},[a("li",{staticClass:"di"},[a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/dashboard"}},[e._v(e._s(e.$page.auth.company.name))])],1),e._v(" "),a("li",{staticClass:"di"},[a("inertia-link",{attrs:{href:"/"+e.$page.auth.company.id+"/employees"}},[e._v(e._s(e.$t("app.breadcrumb_employee_list")))])],1),e._v(" "),a("li",{staticClass:"di"},[e._v("\n          "+e._s(e.employee.name)+"\n        ")])])]),e._v(" "),a("div",{staticClass:"mw9 center br3 mb4 bg-white box relative z-1"},[a("div",{staticClass:"pa3 relative pt5"},[e.employeeOrAtLeastHR()?a("img",{staticClass:"box-edit-button absolute br-100 pa2 bg-white pointer",attrs:{src:"/img/menu_button.svg","data-cy":"edit-profile-button"},on:{click:function(t){e.profileMenu=!0}}}):e._e(),e._v(" "),e.profileMenu?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleProfileMenu,expression:"toggleProfileMenu"}],staticClass:"popupmenu absolute br2 bg-white z-max tl pv2 ph3 bounceIn faster"},[a("ul",{staticClass:"list ma0 pa0"},[a("li",{directives:[{name:"show",rawName:"v-show",value:e.employeeOrAtLeastHR(),expression:"employeeOrAtLeastHR()"}],staticClass:"pv2"},[a("inertia-link",{staticClass:"pointer",attrs:{href:"/"+e.$page.auth.company.id+"/employees/"+e.employee.id+"/edit","data-cy":"show-edit-view"}},[e._v("\n                "+e._s(e.$t("app.edit"))+"\n              ")])],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.$page.auth.employee.permission_level<=200,expression:"$page.auth.employee.permission_level <= 200"}],staticClass:"pv2"},[a("a",{staticClass:"pointer",attrs:{"data-cy":"add-direct-report-button"}},[e._v("\n                Delete\n              ")])]),e._v(" "),e.employeeOrAtLeastHR()?a("li",{staticClass:"pv2"},[a("inertia-link",{staticClass:"pointer",attrs:{href:"/"+e.$page.auth.company.id+"/employees/"+e.employee.id+"/logs","data-cy":"view-log-button"}},[e._v("\n                "+e._s(e.$t("employee.menu_changelog"))+"\n              ")])],1):e._e()])]):e._e(),e._v(" "),a("img",{staticClass:"avatar absolute br-100 db center",attrs:{src:e.employee.avatar,width:"80",height:"80"}}),e._v(" "),a("h2",{staticClass:"tc normal mb1"},[e._v("\n          "+e._s(e.employee.name)+"\n\n          "),e._v(" "),e.employee.id==e.$page.auth.employee.id?a("span",{staticClass:"f7 fw4 ba you br3 pa1 ml2 dib"},[e._v("\n            "+e._s(e.$t("employee.its_you"))+"\n          ")]):e._e(),e._v(" "),a("span",{staticClass:"f7 fw4 ba you br3 pa1 ml2 dib"},[e._v("\n            "+e._s(e.employee.permission_level)+"\n          ")])]),e._v(" "),a("ul",{staticClass:"list tc pa0 f6 mb0"},[a("li",{staticClass:"di-l db mb0-l mb2 mr2"},[a("assign-employee-gender-pronoun",{attrs:{employee:e.employee,pronouns:e.pronouns}})],1),e._v(" "),a("li",{staticClass:"di-l db mb0-l mb2 mr2"},[a("assign-employee-birthdate",{attrs:{employee:e.employee}})],1),e._v(" "),a("li",{staticClass:"di-l db mb0-l mb2 mr2"},[a("assign-employee-position",{attrs:{employee:e.employee,positions:e.positions}})],1),e._v(" "),a("li",{staticClass:"di-l db mb0-l mb2 mr2"},[e._v("\n            No hire date\n          ")]),e._v(" "),a("li",{staticClass:"di-l db mb0-l mb2 mr2"},[a("assign-employee-status",{attrs:{employee:e.employee,statuses:e.statuses}})],1),e._v(" "),a("li",{staticClass:"di-l db mb0-l mb2"},[a("assign-employee-team",{attrs:{employee:e.employee,"employee-teams":e.employeeTeams,teams:e.teams}})],1)])])]),e._v(" "),a("div",{staticClass:"cf mw9 center"},[a("div",{staticClass:"fl w-40-l w-100"},[a("personal-description",{attrs:{employee:e.employee}}),e._v(" "),a("location",{attrs:{employee:e.employee}}),e._v(" "),a("assign-employee-hierarchy",{attrs:{employee:e.employee,"managers-of-employee":e.managersOfEmployee,"direct-reports":e.directReports}}),e._v(" "),a("holidays",{attrs:{employee:e.employee}})],1),e._v(" "),a("div",{staticClass:"fl w-60-l w-100 pl4-l"},[a("worklogs",{attrs:{employee:e.employee,worklogs:e.worklogs}})],1)])])])}),[],!1,null,"d9eb193e",null);t.default=f.exports},lUBh:function(e,t,a){"use strict";a.r(t);var s={props:{employee:{type:Object,default:null}},data:function(){return{}},methods:{navigateToUrl:function(e){window.open(e,"_blank")},employeeOrAtLeastHR:function(){return this.$page.auth.employee.permission_level<=200||!!this.employee.user&&(this.$page.auth.user.id==this.employee.user.id||void 0)}}},o=a("KHd+"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb4 relative"},[a("span",{staticClass:"db fw5 mb2"},[e._v("\n    📍 "+e._s(e.$t("employee.location_title"))+"\n  ")]),e._v(" "),e.employee.address?a("div",{staticClass:"br3 bg-white box z-1 pa3"},[e.employee.address.employee_cover_image_url?a("img",{staticClass:"mb3 pointer",attrs:{src:e.employee.address.employee_cover_image_url,alt:e.$t("employee.location_alt_employee")},on:{click:function(t){return e.navigateToUrl(e.employee.address.openstreetmap_url)}}}):e._e(),e._v(" "),e.employeeOrAtLeastHR()?a("p",{staticClass:"mt0",attrs:{"data-cy":"employee-location"}},[e._v("\n      "+e._s(e.$t("employee.location_information",{address:e.employee.address.readable}))+"\n    ")]):e._e(),e._v(" "),e.employeeOrAtLeastHR()?e._e():a("p",{staticClass:"mt0",attrs:{"data-cy":"employee-location"}},[e._v("\n      "+e._s(e.$t("employee.location_information",{address:e.employee.address.partial}))+"\n    ")]),e._v(" "),a("span",{staticClass:"f7 silver"},[e._v("\n      "+e._s(e.$t("employee.location_privacy_information"))+"\n    ")])]):a("div",{staticClass:"br3 bg-white box z-1 pa3"},[a("p",{staticClass:"mb0 mt0 lh-copy mb0 f6"},[e._v("\n      "+e._s(e.$t("employee.location_no_info"))+"\n    ")])])])}),[],!1,null,"5156b65a",null);t.default=i.exports},lqoj:function(e,t,a){var s=a("Ds3k");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},m2k9:function(e,t,a){"use strict";var s=a("61CU");a.n(s).a},mVvb:function(e,t,a){"use strict";var s=a("nL1a");a.n(s).a},nL1a:function(e,t,a){var s=a("XPtM");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},nVf6:function(e,t,a){var s=a("9JmX");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},oLdY:function(e,t,a){var s=a("C3nU");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},tUbJ:function(e,t,a){var s=a("Ji46");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},vmv4:function(e,t,a){"use strict";var s=a("0MSA");a.n(s).a},xebb:function(e,t,a){var s=a("yHv2");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,o);s.locals&&(e.exports=s.locals)},yHv2:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.popupmenu[data-v-4078ab1e] {\n  right: 2px;\n  top: 26px;\n  width: 280px;\n}\n",""])},"zPd+":function(e,t,a){"use strict";a.r(t);var s=a("IQOQ"),o={directives:{clickOutside:a.n(s).a.directive},props:{employee:{type:Object,default:null},positions:{type:Array,default:null}},data:function(){return{modal:!1,search:"",title:"",updatedEmployee:Object}},computed:{filteredList:function(){var e=this;return this.positions.filter((function(t){return t.title.toLowerCase().includes(e.search.toLowerCase())})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}))}},mounted:function(){null!=this.employee.position&&(this.title=this.employee.position.title),this.updatedEmployee=this.employee},methods:{toggleModal:function(){this.modal=!1},assign:function(e){var t=this;axios.post("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/position",e).then((function(e){t.$snotify.success(t.$t("employee.position_modal_assign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),t.title=e.data.data.position.title,t.updatedEmployee=e.data.data,t.modal=!1})).catch((function(e){t.form.errors=_.flatten(_.toArray(e.response.data))}))},reset:function(){var e=this;axios.delete("/"+this.$page.auth.company.id+"/employees/"+this.employee.id+"/position/"+this.updatedEmployee.position.id).then((function(t){e.$snotify.success(e.$t("employee.position_modal_unassign_success"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),e.title="",e.modal=!1,e.updatedEmployee=t.data.data})).catch((function(t){e.form.errors=_.flatten(_.toArray(t.response.data))}))}}},i=(a("vmv4"),a("KHd+")),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"di relative"},[e.$page.auth.employee.permission_level<=200?a("span",{staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer",attrs:{"data-cy":"open-position-modal"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("\n    "+e._s(e.title)+"\n  ")]):a("span",{attrs:{"data-cy":"position-title"}},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),e.$page.auth.employee.permission_level<=200?a("a",{directives:[{name:"show",rawName:"v-show",value:""==e.title,expression:"title == ''"}],staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer",attrs:{"data-cy":"open-position-modal-blank"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v(e._s(e.$t("employee.position_modal_title")))]):a("span",{directives:[{name:"show",rawName:"v-show",value:""==e.title,expression:"title == ''"}]},[e._v("\n    "+e._s(e.$t("employee.position_blank"))+"\n  ")]),e._v(" "),e.modal?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleModal,expression:"toggleModal"}],staticClass:"popupmenu absolute br2 bg-white z-max tl bounceIn faster"},[a("p",{staticClass:"pa2 ma0 bb bb-gray"},[e._v("\n      "+e._s(e.$t("employee.position_modal_title"))+"\n    ")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("div",{staticClass:"relative pv2 ph2 bb bb-gray"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("employee.position_modal_filter")},domProps:{value:e.search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleModal(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}})])]),e._v(" "),a("ul",{staticClass:"pl0 list ma0 overflow-auto relative positions-list"},e._l(e.filteredList,(function(t){return a("li",{key:t.id,staticClass:"pv2 ph3 bb bb-gray-hover bb-gray pointer",attrs:{"data-cy":"list-position-"+t.id},on:{click:function(a){return e.assign(t)}}},[e._v("\n        "+e._s(t.title)+"\n      ")])})),0),e._v(" "),""!=e.title?a("a",{staticClass:"pointer pv2 ph3 db no-underline c-delete bb-0",attrs:{"data-cy":"position-reset-button"},on:{click:e.reset}},[e._v("\n      "+e._s(e.$t("employee.position_modal_reset"))+"\n    ")]):e._e()]):e._e()])}),[],!1,null,"92405ea6",null);t.default=n.exports}}]);
//# sourceMappingURL=5.js.map?id=8e78d20cadbcb07b9e13
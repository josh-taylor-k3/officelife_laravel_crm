(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{Eswu:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".error-explanation[data-v-df38947a] {\n  background-color: #fde0de;\n  border-color: #e2aba7;\n}\n.error[data-v-df38947a]:focus {\n  box-shadow: 0 0 0 1px #fff9f8;\n}\n.optional-badge[data-v-df38947a] {\n  border-radius: 4px;\n  color: #283e59;\n  background-color: #edf2f9;\n  padding: 3px 4px;\n}",""])},FUPM:function(t,e,a){var n=a("GqqJ");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,s);n.locals&&(t.exports=n.locals)},GqqJ:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".border-red[data-v-1482dffa] {\n  background-color: #fff5f5;\n  border-color: #fc8181;\n  color: #c53030;\n}",""])},HFKk:function(t,e,a){var n=a("UitR");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,s);n.locals&&(t.exports=n.locals)},"I/N3":function(t,e,a){"use strict";var n=a("HFKk");a.n(n).a},PAcC:function(t,e,a){var n=a("Eswu");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,s);n.locals&&(t.exports=n.locals)},"SL/y":function(t,e,a){"use strict";var n=a("FUPM");a.n(n).a},UitR:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,'\n.add-modal[data-v-530b2450] {\n  border: 1px solid rgba(27,31,35,.15);\n  box-shadow: 0 3px 12px rgba(27,31,35,.15);\n  top: 36px;\n  right: 0;\n}\n.add-modal[data-v-530b2450]:after,\n.add-modal[data-v-530b2450]:before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.add-modal[data-v-530b2450]:after {\n  border: 7px solid transparent;\n  border-bottom-color: #fff;\n  left: auto;\n  right: 10px;\n  top: -14px;\n}\n.add-modal[data-v-530b2450]:before {\n  border: 8px solid transparent;\n  border-bottom-color: rgba(27,31,35,.15);\n  left: auto;\n  right: 9px;\n  top: -16px;\n}\n.team-item[data-v-530b2450]:last-child {\n  border-bottom: 0;\n  padding-bottom: 0;\n}\n',""])},kArM:function(t,e,a){"use strict";a.r(e);var n=a("pF+r"),s=a("rrJu"),r=a("Z84v"),o={components:{Layout:a("+SZM").a,TextInput:n.a,Errors:s.a,LoadingButton:r.a},props:{teams:{type:Array,default:null},notifications:{type:Array,default:null}},data:function(){return{modal:!1,renameMode:!1,deletionMode:!1,teamToRename:Object,teamToDelete:Object,form:{name:null,errors:[]},loadingState:"",errorTemplate:Error}},methods:{showRenameModal:function(t){var e=this;this.form.errors=[],this.renameMode=!0,this.teamToRename=t,this.form.name=t.name,this.$nextTick((function(){e.$refs["name".concat(t.id)][0].$refs["name".concat(t.id)].focus()}))},showDeletionModal:function(t){this.form.errors=[],this.deletionMode=!0,this.teamToDelete=t},displayAddModal:function(){var t=this;this.modal=!this.modal,this.form.errors=[],this.$nextTick((function(){t.$refs.newTeam.$refs.input.focus()}))},submit:function(){var t=this;this.loadingState="loading",axios.post("/"+this.$page.auth.company.id+"/account/teams",this.form).then((function(e){flash(t.$t("account.team_creation_success"),"success"),t.loadingState=null,t.form.name=null,t.modal=!1,t.teams.push(e.data.data)})).catch((function(e){t.loadingState=null,t.form.errors=_.flatten(_.toArray(e.response.data))}))},update:function(t){var e=this;axios.put("/"+this.$page.auth.company.id+"/account/teams/"+t.id,this.form).then((function(a){flash(e.$t("account.team_update_success"),"success"),e.teamToRename=0,e.form.name=null;var n=e.teams.findIndex((function(e){return e.id==t.id}));e.$set(e.teams,n,a.data.data)})).catch((function(t){e.form.errors=_.flatten(_.toArray(t.response.data))}))},destroy:function(t){var e=this;axios.delete("/"+this.$page.auth.company.id+"/account/teams/"+t.id).then((function(a){flash(e.$t("account.team_destroy_success"),"success"),e.teamToDelete=0;var n=e.teams.findIndex((function(e){return e.id==t.id}));e.teams.splice(n,1)})).catch((function(t){e.form.errors=_.flatten(_.toArray(t.response.data))}))}}},i=(a("I/N3"),a("KHd+")),l=Object(i.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{title:"Home",notifications:t.notifications}},[a("div",{staticClass:"ph2 ph0-ns"},[a("div",{staticClass:"mt4-l mt1 mw6 br3 bg-white box center breadcrumb relative z-0 f6 pb2"},[a("ul",{staticClass:"list ph0 tc-l tl"},[a("li",{staticClass:"di"},[a("inertia-link",{attrs:{href:"/"+t.$page.auth.company.id+"/dashboard"}},[t._v(t._s(t.$page.auth.company.name))])],1),t._v(" "),a("li",{staticClass:"di"},[a("inertia-link",{attrs:{href:"/"+t.$page.auth.company.id+"/account"}},[t._v(t._s(t.$t("app.breadcrumb_account_home")))])],1),t._v(" "),a("li",{staticClass:"di"},[t._v("\n          "+t._s(t.$t("app.breadcrumb_account_manage_teams"))+"\n        ")])])]),t._v(" "),a("div",{staticClass:"mw7 center br3 mb5 bg-white box restricted relative z-1"},[a("div",{staticClass:"pa3 mt5"},[a("h2",{staticClass:"tc normal mb4"},[t._v("\n          "+t._s(t.$t("account.teams_title",{company:t.$page.auth.company.name}))+"\n        ")]),t._v(" "),a("div",{staticClass:"relative mb4"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.teams.length,expression:"teams.length != 0"}],staticClass:"dib mb3 di-l"},[t._v("\n            "+t._s(t.$tc("account.teams_number_teams",t.teams.length,{company:t.$page.auth.company.name,count:t.teams.length}))+"\n          ")]),t._v(" "),a("a",{staticClass:"btn tc absolute-l relative dib-l db right-0",attrs:{"data-cy":"add-team-button"},on:{click:function(e){return e.preventDefault(),t.displayAddModal(e)}}},[t._v("\n            "+t._s(t.$t("account.teams_cta"))+"\n          ")]),t._v(" "),1==t.modal?a("div",{staticClass:"absolute add-modal br2 bg-white z-max tl pv2 ph3 bounceIn faster"},[t.form.errors.length>0?[a("div",{staticClass:"cf pb1 w-100 mb2"},[a("errors",{attrs:{errors:t.form.errors}})],1)]:t._e(),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"mb3"},[a("text-input",{ref:"newTeam",attrs:{placeholder:"",name:"name",errors:t.$page.errors.name,required:"",label:t.$t("account.team_new_name"),"extra-class-upper-div":"mb0"},on:{"esc-key-pressed":function(e){t.modal=!1}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("div",{staticClass:"mv2"},[a("div",{staticClass:"flex-ns justify-between"},[a("div",[a("a",{staticClass:"btn dib tc w-auto-ns w-100 pv2 ph3",on:{click:function(e){t.modal=!1}}},[t._v("\n                      "+t._s(t.$t("app.cancel"))+"\n                    ")])]),t._v(" "),a("loading-button",{attrs:{classes:"btn add w-auto-ns w-100 pv2 ph3",state:t.loadingState,text:t.$t("app.add"),"data-cy":"submit-add-team-button"}})],1)])])],2):t._e()]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:0!=t.teams.length,expression:"teams.length != 0"}],staticClass:"list pl0 mt0 center"},t._l(t.teams,(function(e){return a("li",{key:e.id,staticClass:"pa3-l pa1 ph0-l bb b--black-10 team-item"},[t.teamToRename.id!=e.id&&t.teamToDelete.id!=e.id?[a("span",{staticClass:"db b mb2",attrs:{"data-cy":"list-team-"+e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),a("ul",{staticClass:"f6 list pl0"},[a("li",{staticClass:"di pr2"},[a("inertia-link",{attrs:{href:e.url}},[t._v(t._s(t.$t("account.team_visit_page")))])],1),t._v(" "),a("li",{staticClass:"di pr2"},[a("inertia-link",{attrs:{href:"/"+t.$page.auth.company.id+"/account/teams/"+e.id+"/logs"}},[t._v(t._s(t.$t("account.team_view_audit_logs")))])],1),t._v(" "),a("li",{staticClass:"di pr2"},[a("a",{staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer",attrs:{href:"#","data-cy":"team-rename-link-"+e.id},on:{click:function(a){return a.preventDefault(),t.showRenameModal(e)}}},[t._v(t._s(t.$t("app.rename")))])]),t._v(" "),a("li",{staticClass:"di"},[a("a",{staticClass:"bb b--dotted bt-0 bl-0 br-0 pointer c-delete",attrs:{href:"#","data-cy":"team-destroy-link-"+e.id},on:{click:function(a){return a.preventDefault(),t.showDeletionModal(e)}}},[t._v(t._s(t.$t("app.delete")))])])])]:t._e(),t._v(" "),t.teamToRename.id==e.id&&t.renameMode?[t.form.errors.length>0?[a("div",{staticClass:"cf pb1 w-100 mb2"},[a("errors",{attrs:{errors:t.form.errors}})],1)]:t._e(),t._v(" "),a("form",{staticClass:"flex",on:{submit:function(a){return a.preventDefault(),t.update(e)}}},[a("div",{staticClass:"w-100 w-70-ns mb3 mb0-ns"},[a("text-input",{ref:"name"+e.id,refInFor:!0,attrs:{id:"name-"+e.id,placeholder:"Product team","custom-ref":"name"+e.id,datacy:"list-rename-input-name-"+e.id,errors:t.$page.errors.name,required:"","extra-class-upper-div":"mb0"},on:{"esc-key-pressed":function(e){t.teamToRename=0}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("div",{staticClass:"w-30-ns w-100 tr"},[a("a",{staticClass:"btn dib tc w-auto-ns w-100 mb2 pv2 ph3",attrs:{"data-cy":"list-rename-cancel-button-"+e.id},on:{click:function(e){e.preventDefault(),t.teamToRename=0}}},[t._v("\n                    "+t._s(t.$t("app.cancel"))+"\n                  ")]),t._v(" "),a("loading-button",{attrs:{classes:"btn add w-auto-ns w-100 mb2 pv2 ph3","data-cy":"list-rename-cta-button-"+e.id,state:t.loadingState,text:t.$t("app.update")}})],1)])]:t._e(),t._v(" "),t.teamToDelete.id==e.id&&t.deletionMode?[t.form.errors.length>0?[a("div",{staticClass:"cf pb1 w-100 mb2"},[a("errors",{attrs:{errors:t.form.errors}})],1)]:t._e(),t._v(" "),a("form",{on:{submit:function(a){return a.preventDefault(),t.destroy(e)}}},[a("p",{staticClass:"lh-copy"},[t._v(t._s(t.$t("account.team_confirm_deletion",{name:e.name})))]),t._v(" "),a("a",{staticClass:"btn dib tc w-auto-ns w-100 mb2 pv2 ph3 mr3",attrs:{"data-cy":"list-destroy-cancel-button-"+e.id},on:{click:function(e){e.preventDefault(),t.teamToDelete=0}}},[t._v("\n                  "+t._s(t.$t("app.cancel"))+"\n                ")]),t._v(" "),a("loading-button",{attrs:{classes:"btn destroy w-auto-ns w-100 mb2 pv2 ph3","data-cy":"list-destroy-cta-button-"+e.id,state:t.loadingState,text:t.$t("app.delete")}})],1)]:t._e()],2)})),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.teams.length,expression:"teams.length == 0"}],staticClass:"pa3"},[a("p",{staticClass:"tc measure center mb4 lh-copy"},[t._v("\n          "+t._s(t.$t("account.teams_blank"))+"\n        ")]),t._v(" "),a("img",{staticClass:"db center mb4",attrs:{srcset:"/img/company/account/blank-team-1x.png, /img/company/account/blank-team-2x.png 2x"}})])])])])}),[],!1,null,"530b2450",null);e.default=l.exports},l6R9:function(t,e,a){"use strict";var n=a("PAcC");a.n(n).a},"pF+r":function(t,e,a){"use strict";var n={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat(this._uid)}},type:{type:String,default:"text"},value:{type:String,default:""},customRef:{type:String,default:"input"},name:{type:String,default:"input"},datacy:{type:String,default:""},placeholder:{type:String,default:""},help:{type:String,default:""},label:{type:String,default:""},required:{type:Boolean,default:!1},extraClassUpperDiv:{type:String,default:"mb3"},min:{type:Number,default:0},max:{type:Number,default:0},errors:{type:Array,default:function(){return[]}}},computed:{hasError:function(){return!!(this.errors.length>0&&this.required)}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()},setSelectionRange:function(t,e){this.$refs.input.setSelectionRange(t,e)},sendEscKey:function(){this.$emit("esc-key-pressed")}}},s=(a("l6R9"),a("KHd+")),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.extraClassUpperDiv},[t.label?a("label",{staticClass:"db fw4 lh-copy f6",attrs:{for:t.id}},[t._v("\n    "+t._s(t.label)+"\n    "),t.required?t._e():a("span",{staticClass:"optional-badge f7"},[t._v("\n      "+t._s(t.$t("app.optional"))+"\n    ")])]):t._e(),t._v(" "),a("input",t._b({ref:t.customRef,staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:t.id,required:t.required,type:t.type,name:t.name,max:t.max,min:t.min,placeholder:t.placeholder,"data-cy":t.datacy},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.sendEscKey(e)}}},"input",t.$attrs,!1)),t._v(" "),t.hasError?a("div",{staticClass:"error-explanation pa3 ba br3 mt1"},[t._v("\n    "+t._s(t.errors[0])+"\n  ")]):t._e(),t._v(" "),t.help?a("p",{staticClass:"f7 mb3 lh-title"},[t._v("\n    "+t._s(t.help)+"\n  ")]):t._e()])}),[],!1,null,"df38947a",null);e.a=r.exports},rrJu:function(t,e,a){"use strict";var n={props:{errors:{type:Array,default:function(){return[]}}}},s=(a("SL/y"),a("KHd+")),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.errors.length>0?a("div",{staticClass:"border-red ba br3 pa3"},[a("p",{staticClass:"mv0 fw6"},[t._v(t._s(t.$t("app.error_title")))]),t._v(" "),a("p",{staticClass:"mb0"},[t._v(t._s(t.errors[0]))])]):t._e()}),[],!1,null,"1482dffa",null);e.a=r.exports}}]);
//# sourceMappingURL=18.js.map?id=95547ae5acd454e400e1
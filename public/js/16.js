(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3ciP":function(t,a,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.list li[data-v-00495696]:last-child {\n  border-bottom: 0;\n}\n.weekend[data-v-00495696] {\n  background-color: #ffe2af;\n  border: 1px #ffbd49 solid;\n  border-radius: 11px;\n  color: #B00;\n}\n.off[data-v-00495696] {\n  background-color: #AEE4FE;\n  border: 1px #49c2fd solid;\n  border-radius: 11px;\n  color: #3341bd;\n}\ntd[data-v-00495696], th[data-v-00495696] {\n  padding-bottom: 5px;\n  padding-top: 5px;\n  border-bottom: 1px #ddd dotted;\n}\n.edit-link[data-v-00495696] {\n  top: 8px;\n}\n.day-item[data-v-00495696] {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n.holiday-td[data-v-00495696] {\n  width: 25px;\n}\n",""])},"4T6e":function(t,a,s){var e=s("JzQN");"string"==typeof e&&(e=[[t.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(e,o);e.locals&&(t.exports=e.locals)},"5FDj":function(t,a,s){"use strict";var e=s("KIYE");s.n(e).a},"8vwF":function(t,a,s){"use strict";s.r(a);var e=s("pF+r"),o=s("Z84v"),i={components:{Layout:s("+SZM").a,TextInput:e.a,LoadingButton:o.a},props:{notifications:{type:Array,default:null},ptoPolicies:{type:Array,default:null}},data:function(){return{totalWorkedDays:0,editModal:!1,loadingState:"",idToUpdate:0,localHolidays:null,form:{default_amount_of_allowed_holidays:null,default_amount_of_sick_days:null,default_amount_of_pto_days:null,days_to_toggle:[],errors:[]}}},methods:{isOff:function(t){var a="";return 0!=t.day_of_week&&6!=t.day_of_week||(a="weekend"),0==t.is_worked&&0!=t.day_of_week&&6!=t.day_of_week&&(a+=" off"),a},toggleUpdate:function(t){this.editModal?(this.totalWorkedDays=0,this.localHolidays=null,this.idToUpdate=0,this.editModal=!1,this.form.days_to_toggle=[]):(this.load(t),this.idToUpdate=t.id,this.totalWorkedDays=t.total_worked_days,this.form.default_amount_of_allowed_holidays=t.default_amount_of_allowed_holidays,this.form.default_amount_of_sick_days=t.default_amount_of_sick_days,this.form.default_amount_of_pto_days=t.default_amount_of_pto_days,this.editModal=!0)},toggleDayOff:function(t){if(0!=t.day_of_week&&6!=t.day_of_week){var a=t.is_worked;t.is_worked=!t.is_worked;var s=this.form.days_to_toggle.findIndex((function(a){return a.id===t.id}));-1!=s?this.form.days_to_toggle.splice(s,1):this.form.days_to_toggle.push(t),this.totalWorkedDays=a?this.totalWorkedDays-1:this.totalWorkedDays+1}},load:function(t){var a=this;axios.get("/"+this.$page.auth.company.id+"/account/ptopolicies/"+t.id+"/getHolidays").then((function(t){a.localHolidays=t.data})).catch((function(t){a.form.errors=_.flatten(_.toArray(ersror.response.data))}))},update:function(t){var a=this;axios.put("/"+this.$page.auth.company.id+"/account/ptopolicies/"+t,this.form).then((function(s){a.$snotify.success(a.$t("account.pto_policies_update"),{timeout:2e3,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}),a.idToUpdate=0,a.form.year=null,t=a.ptoPolicies.findIndex((function(a){return a.id===t})),a.$set(a.ptoPolicies,t,s.data.data)})).catch((function(t){a.form.errors=_.flatten(_.toArray(t.response.data))}))}}},n=(s("5FDj"),s("KHd+")),d=Object(n.a)(i,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("layout",{attrs:{title:"Home",notifications:t.notifications}},[s("div",{staticClass:"ph2 ph0-ns"},[s("div",{staticClass:"mt4-l mt1 mw6 br3 bg-white box center breadcrumb relative z-0 f6 pb2"},[s("ul",{staticClass:"list ph0 tc-l tl"},[s("li",{staticClass:"di"},[s("inertia-link",{attrs:{href:"/"+t.$page.auth.company.id+"/dashboard"}},[t._v(t._s(t.$page.auth.company.name))])],1),t._v(" "),s("li",{staticClass:"di"},[s("inertia-link",{attrs:{href:"/"+t.$page.auth.company.id+"/account"}},[t._v(t._s(t.$t("app.breadcrumb_account_home")))])],1),t._v(" "),s("li",{staticClass:"di"},[t._v("\n          "+t._s(t.$t("app.breadcrumb_account_manage_pto_policies"))+"\n        ")])])]),t._v(" "),s("div",{staticClass:"mw8 center br3 mb5 bg-white box restricted relative z-1"},[s("div",{staticClass:"pa3 mt5"},[s("h2",{staticClass:"tc normal mb4"},[t._v("\n          "+t._s(t.$t("account.pto_policies_edit_title",{company:t.$page.auth.company.name}))+"\n        ")]),t._v(" "),s("p",{staticClass:"lh-copy"},[t._v("\n          "+t._s(t.$t("account.pto_policies_edit_title_1"))+"\n        ")]),t._v(" "),s("p",{staticClass:"lh-copy"},[t._v("\n          "+t._s(t.$t("account.pto_policies_edit_title_2"))+"\n        ")]),t._v(" "),s("p",{staticClass:"lh-copy"},[t._v("\n          "+t._s(t.$t("account.pto_policies_edit_title_3"))+"\n        ")]),t._v(" "),s("p",{staticClass:"lh-copy"},[t._v("\n          "+t._s(t.$t("account.pto_policies_edit_title_4"))+"\n        ")]),t._v(" "),s("ul",{staticClass:"list pl0 mv0 center ba br2 bb-gray",attrs:{"data-cy":"pto-policies-list"}},t._l(t.ptoPolicies,(function(a){return s("li",{key:a.id,staticClass:"pv3 ph3 bb bb-gray bb-gray-hover"},[s("h3",{staticClass:"ma0 mb3 f3 fw5 relative"},[t._v("\n              "+t._s(t.$t("account.pto_policies_edit_year",{year:a.year}))+"\n              "),s("a",{staticClass:"pointer absolute right-0 f6 fw4 edit-link",attrs:{"data-cy":"list-edit-button-"+a.id},on:{click:function(s){return s.preventDefault(),t.toggleUpdate(a)}}},[t._v("\n                "+t._s(t.$t("app.edit"))+"\n              ")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.idToUpdate!=a.id,expression:"idToUpdate != ptoPolicy.id"}],staticClass:"flex items-start-ns flex-wrap flex-nowrap-ns"},[s("div",{staticClass:"mb1 w-25-ns w-50 mr4-ns"},[s("p",{staticClass:"db mb0 mt0 f4 fw3",attrs:{"data-cy":"policy-worked-days-"+a.id}},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_days",{number:a.total_worked_days}))+"\n                ")]),t._v(" "),s("p",{staticClass:"f7 mt1 mb0 fw3 grey"},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_worked_days"))+"\n                ")])]),t._v(" "),s("div",{staticClass:"mb1 w-25-ns w-50 mr4-ns"},[s("p",{staticClass:"db mb0 mt0 f4 fw3",attrs:{"data-cy":"policy-holidays-"+a.id}},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_days",{number:a.default_amount_of_allowed_holidays}))+"\n                ")]),t._v(" "),s("p",{staticClass:"f7 mt1 mb0 fw3 grey",attrs:{"data-cy":"policy-holidays-"+a.id}},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_default_holidays"))+"\n                ")])]),t._v(" "),s("div",{staticClass:"mb1 w-25-ns w-50 mr4-ns"},[s("p",{staticClass:"db mb0 mt0 f4 fw3",attrs:{"data-cy":"policy-sick-"+a.id}},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_days",{number:a.default_amount_of_sick_days}))+"\n                ")]),t._v(" "),s("p",{staticClass:"f7 mt1 mb0 fw3 grey"},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_default_sick_days"))+"\n                ")])]),t._v(" "),s("div",{staticClass:"mb1 w-25-ns w-50"},[s("p",{staticClass:"db mb0 mt0 f4 fw3",attrs:{"data-cy":"policy-pto-"+a.id}},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_days",{number:a.default_amount_of_pto_days}))+"\n                ")]),t._v(" "),s("p",{staticClass:"f7 mt1 mb0 fw3 grey"},[t._v("\n                  "+t._s(t.$t("account.pto_policies_stat_default_ptos"))+"\n                ")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.idToUpdate==a.id,expression:"idToUpdate == ptoPolicy.id"}],staticClass:"cf mt3"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.update(a.id)}}},[s("p",[t._v(t._s(t.$t("account.pto_policies_edit_default_employee_settings")))]),t._v(" "),s("div",{staticClass:"dt-ns dt--fixed di"},[s("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[s("text-input",{attrs:{id:"holidays",name:"holidays",errors:t.$page.errors.holidays,label:t.$t("account.pto_policies_edit_default_amount_of_allowed_holidays"),required:!0,type:"number",min:1,max:300,datacy:"list-edit-input-holidays-"+a.id},model:{value:t.form.default_amount_of_allowed_holidays,callback:function(a){t.$set(t.form,"default_amount_of_allowed_holidays",a)},expression:"form.default_amount_of_allowed_holidays"}})],1),t._v(" "),s("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[s("text-input",{attrs:{id:"sick",name:"sick",errors:t.$page.errors.default_amount_of_sick_days,label:t.$t("account.pto_policies_edit_default_amount_of_sick_days"),required:!0,type:"number",min:1,max:300,datacy:"list-edit-input-sick-"+a.id},model:{value:t.form.default_amount_of_sick_days,callback:function(a){t.$set(t.form,"default_amount_of_sick_days",a)},expression:"form.default_amount_of_sick_days"}})],1),t._v(" "),s("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[s("text-input",{attrs:{id:"pto",name:"pto",errors:t.$page.errors.default_amount_of_pto_days,label:t.$t("account.pto_policies_edit_default_amount_of_pto_days"),required:!0,type:"number",min:1,max:300,datacy:"list-edit-input-pto-"+a.id},model:{value:t.form.default_amount_of_pto_days,callback:function(a){t.$set(t.form,"default_amount_of_pto_days",a)},expression:"form.default_amount_of_pto_days"}})],1)]),t._v(" "),s("p",[t._v(t._s(t.$t("account.pto_policies_edit_click_calendar")))]),t._v(" "),s("p",{staticClass:"f6"},[t._v("\n                  "+t._s(t.$t("account.pto_policies_edit_calendar_help"))+"\n                ")]),t._v(" "),s("div",{staticClass:"tc db mt3"},[s("table",{staticClass:"center"},[s("thead",[s("tr",{staticClass:"f6 tc"},[s("th",[t._v(t._s(t.$t("account.pto_policies_month")))]),t._v(" "),s("th",[t._v("1")]),t._v(" "),s("th",[t._v("2")]),t._v(" "),s("th",[t._v("3")]),t._v(" "),s("th",[t._v("4")]),t._v(" "),s("th",[t._v("5")]),t._v(" "),s("th",[t._v("6")]),t._v(" "),s("th",[t._v("7")]),t._v(" "),s("th",[t._v("8")]),t._v(" "),s("th",[t._v("9")]),t._v(" "),s("th",[t._v("10")]),t._v(" "),s("th",[t._v("11")]),t._v(" "),s("th",[t._v("12")]),t._v(" "),s("th",[t._v("13")]),t._v(" "),s("th",[t._v("14")]),t._v(" "),s("th",[t._v("15")]),t._v(" "),s("th",[t._v("16")]),t._v(" "),s("th",[t._v("17")]),t._v(" "),s("th",[t._v("18")]),t._v(" "),s("th",[t._v("19")]),t._v(" "),s("th",[t._v("20")]),t._v(" "),s("th",[t._v("21")]),t._v(" "),s("th",[t._v("22")]),t._v(" "),s("th",[t._v("23")]),t._v(" "),s("th",[t._v("24")]),t._v(" "),s("th",[t._v("25")]),t._v(" "),s("th",[t._v("26")]),t._v(" "),s("th",[t._v("27")]),t._v(" "),s("th",[t._v("28")]),t._v(" "),s("th",[t._v("29")]),t._v(" "),s("th",[t._v("30")]),t._v(" "),s("th",[t._v("31")])])]),t._v(" "),s("tbody",t._l(t.localHolidays,(function(e){return s("tr",{key:e.id},t._l(e,(function(e){return s("td",{key:e.id,staticClass:"f6 tc holiday-td"},[s("span",{staticClass:"pointer day-item",class:t.isOff(e),attrs:{"data-cy":"calendar-item-"+e.id+"-"+a.id},on:{click:function(a){return a.preventDefault(),t.toggleDayOff(e)}}},[t._v("\n                            "+t._s(e.abbreviation)+"\n                          ")])])})),0)})),0)])]),t._v(" "),s("div",{staticClass:"dt-ns dt--fixed di"},[s("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[s("span",{staticClass:"f6"},[t._v("\n                      "+t._s(t.$t("account.pto_policies_legend"))+"\n                    ")]),t._v(" "),s("span",{staticClass:"weekend f7 pv1 ph2 mr1"},[t._v("\n                      "+t._s(t.$t("account.pto_policies_legend_weekend"))+"\n                    ")]),t._v(" "),s("span",{staticClass:"off f7 pv1 ph2"},[t._v("\n                      "+t._s(t.$t("account.pto_policies_legend_holiday"))+"\n                    ")])]),t._v(" "),s("div",{staticClass:"dtc-ns pr2-ns pb0-ns w-100 pb3"},[s("p",{staticClass:"tr",attrs:{"data-cy":"total-worked-days-"+a.id}},[t._v("\n                      "+t._s(t.$t("account.pto_policies_edit_total",{totalWorkedDays:t.totalWorkedDays,year:a.year}))+"\n                    ")])])]),t._v(" "),s("div",{staticClass:"w-100 tr"},[s("a",{staticClass:"btn dib-l db mb2 mb0-ns",attrs:{"data-cy":"list-edit-cancel-button-"+a.id},on:{click:function(a){a.preventDefault(),t.idToUpdate=0}}},[t._v("\n                    "+t._s(t.$t("app.cancel"))+"\n                  ")]),t._v(" "),s("loading-button",{attrs:{classes:"btn add w-auto-ns w-100 mb2 pv2 ph3","data-cy":"list-edit-cta-button-"+a.id,state:t.loadingState,text:t.$t("app.update")}})],1)])])])})),0)])])])])}),[],!1,null,"00495696",null);a.default=d.exports},JzQN:function(t,a,s){(t.exports=s("I1BE")(!1)).push([t.i,".error-explanation[data-v-533a82fc] {\n  background-color: #fde0de;\n  border-color: #e2aba7;\n}\n.error[data-v-533a82fc]:focus {\n  box-shadow: 0 0 0 1px #fff9f8;\n}\n.optional-badge[data-v-533a82fc] {\n  border-radius: 4px;\n  color: #283e59;\n  background-color: #edf2f9;\n  padding: 3px 4px;\n}",""])},KIYE:function(t,a,s){var e=s("3ciP");"string"==typeof e&&(e=[[t.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(e,o);e.locals&&(t.exports=e.locals)},LLkT:function(t,a,s){"use strict";var e=s("4T6e");s.n(e).a},"pF+r":function(t,a,s){"use strict";var e={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat(this._uid)}},type:{type:String,default:"text"},value:{type:String,default:""},customRef:{type:String,default:"input"},name:{type:String,default:"input"},datacy:{type:String,default:""},placeholder:{type:String,default:""},help:{type:String,default:""},label:{type:String,default:""},required:{type:Boolean,default:!1},extraClassUpperDiv:{type:String,default:"mb3"},min:{type:Number,default:0},max:{type:Number,default:0},errors:{type:Array,default:function(){return[]}}},computed:{hasError:function(){return this.errors.length>0}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()},setSelectionRange:function(t,a){this.$refs.input.setSelectionRange(t,a)},sendEscKey:function(){this.$emit("esc-key-pressed")}}},o=(s("LLkT"),s("KHd+")),i=Object(o.a)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{class:t.extraClassUpperDiv},[t.label?s("label",{staticClass:"db fw4 lh-copy f6",attrs:{for:t.id}},[t._v("\n    "+t._s(t.label)+"\n    "),t.required?t._e():s("span",{staticClass:"optional-badge f7"},[t._v("\n      "+t._s(t.$t("app.optional"))+"\n    ")])]):t._e(),t._v(" "),s("input",t._b({ref:t.customRef,staticClass:"br2 f5 w-100 ba b--black-40 pa2 outline-0",attrs:{id:t.id,required:t.required,type:t.type,name:t.name,max:t.max,min:t.min,placeholder:t.placeholder,"data-cy":t.datacy},domProps:{value:t.value},on:{input:function(a){return t.$emit("input",a.target.value)},keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:t.sendEscKey(a)}}},"input",t.$attrs,!1)),t._v(" "),t.hasError?s("div",{staticClass:"error-explanation pa3 ba br3 mt1"},[t._v("\n    "+t._s(t.errors[0])+"\n  ")]):t._e(),t._v(" "),t.help?s("p",{staticClass:"f7 mb3 lh-title"},[t._v("\n    "+t._s(t.help)+"\n  ")]):t._e()])}),[],!1,null,"533a82fc",null);a.a=i.exports}}]);
//# sourceMappingURL=16.js.map?id=64a432d5ef21717b290d